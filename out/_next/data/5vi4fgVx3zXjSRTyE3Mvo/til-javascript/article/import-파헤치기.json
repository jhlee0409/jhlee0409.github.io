{"pageProps":{"categories":[{"title":"tech","sub":[{"title":"refactoring","count":3},{"title":"typescript","count":1}]},{"title":"til","sub":[{"title":"javascript","count":1}]}],"data":{"title":"import 파헤치기","date":"2022-08-16","tags":["TIL","Javascript"],"draft":false,"summary":"static import, dynamic import"},"content":"# import\r\n\r\n- `import` 할 모듈은 무조건 `엄격 모드`\r\n- HTML 안에 작성한 스크립트에는 `import` 사용 불가\r\n\t- 대신 `<script>` 태그의 `nomodule`속성을 이용해 가능\r\n- 정적 `import` 는 다른 모듈에서 `export` 한 바인딩을 가져올 떄 사용\r\n\t- 초기 의존성을 불러올 때 사용\r\n\t- 가져올 모듈은 `문자열` 만 허용\r\n- 동적 `import` 는 함수형 구문인 `import()` 를 사용\r\n\t- `type=\"module\"` 을 필요로 하지 않는다.\r\n\t- 모듈을 조건적으로 가져오고 싶을 때 사용\r\n\t- 필요할 때만 가져올 떄 사용\r\n\r\n\r\n## 정적 import\r\n### 사용법\r\n1. 기본값 가져오기\r\n\t- `module` 파일에서 `export default` 한 값 가져오기\r\n\t```javascript\r\n\timport a from 'module';\r\n\t```\r\n2. Name Space Import\r\n\t- 전체 모듈 가져오기\r\n\t```javascript\r\n\timport * as aliasA from 'module';\r\n\t```\r\n3. 하나의 멤버만 가져오기\r\n\t```javascript\r\n\timport { memberA } from 'module';\r\n\t```\r\n4. 여러 멤버 가져오기\r\n\t```javascript\r\n\timport { memberA, memberB } from 'module';\r\n\t```\r\n5. 별명 지정해서 멤버 가져오기\r\n\t```javascript\r\n\timport { realMemberName as aliasMemberName } from 'module';\r\n\timport { realMemberNameA as aliasMemberNameA, realMemberNameB as\r\n\taliasMemberNameB } from 'module';\r\n\t```\r\n6. 바인딩없이 모듈 전체의 사이드 이펙트 가져오기\r\n\t```javascript\r\n\timport 'module';\r\n\t```\r\n7. 기본값 가져오기 + 멤버 가져오기\r\n\t- 기본값 가져오기 먼저 선언 해야함\r\n\t```javascript\r\n\timport sampleDefault, * as aliasA from 'module';\r\n\t// or\r\n\timport sampleDefault, { memberA, memberB } from 'module';\r\n\t```\r\n\r\n## 동적 import\r\n- 제약이 존재\r\n\t1. `import` 문에 동적 매개변수 사용 불가\r\n\t\t```javascript\r\n\t\timport impossible from getModuleA(); \r\n\t\t```\r\n\t2. 모듈 경로는 원시 문자열만 가능, 함수 호출 결괏값을 경로로 사용 불가\r\n\t3. 런타임 or 조건부로 모듈을 불러올 수 없다는 점\r\n\t```javascript\r\n\tif(...conditionA) {\r\n\t\timport ...; // 조건부 호출 불가\r\n\t}\r\n\t// or\r\n\t{\r\n\t\timport ...; // 블록 안에서 호출 불가\r\n\t}\r\n\t```\r\n### 왜 제약이 있지?\r\n- `import/export`는 코드 구조의 중심을 잡아주는 역할이기 때문\r\n- 코드 구조 분석 -> 모듈을 모아 번들링 -> 미사용 모듈은 제거 하는 프로세스\r\n- 코드 구조가 간단 & 고정일 경우에만 가능\r\n\r\n### 사용법\r\n- `import(module)` -> 프로미스를 반환\r\n- 코드 내 어디서 동적으로 호출, 사용 가능\r\n```javascript\r\nimport('module path')\r\n\t.then(obj=>`obj === module object`)\r\n\t.catch(err => `loading err, e.g. no matched module`)\r\n```\r\n- 비동기 함수에서도 가능\r\n```javascript\r\nconst myFunction = async () => {\r\n\tconst module = await import('modulepath')\r\n\t...\r\n}\r\n```\r\n\r\n### 주의 \r\n- 일반 스크립트에서도 동작 `<script type=\"module\">` 불필요\r\n- 함수 호출 처럼 보이지만 함수 호출 아님\r\n- `super()` 처럼 괄호를 쓰는 특별한 문법\r\n- 그렇기에 `import`를 변수에 복사, 함수의 메소드인 `call/apply` 사용 불가\r\n\r\n\r\n### 참조\r\n- [import - JavaScript - MDN Web Docs - Mozilla](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Statements/import)\r\n- [동적으로 모듈 가져오기 - 모던 JavaScript 튜토리얼](https://ko.javascript.info/modules-dynamic-imports)"},"__N_SSG":true}