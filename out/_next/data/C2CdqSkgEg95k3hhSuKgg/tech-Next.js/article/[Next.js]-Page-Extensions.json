{"pageProps":{"categories":[{"title":"blockchain","sub":[{"title":"DApp","count":1},{"title":"solidity","count":4}]},{"title":"platform","sub":[{"title":"AWS","count":2},{"title":"Google Analytics 4","count":1}]},{"title":"tech","sub":[{"title":"CS","count":1},{"title":"CSS","count":2},{"title":"Data_Structure_&_Algorithms","count":14},{"title":"HTML","count":1},{"title":"javascript","count":4},{"title":"markdown","count":1},{"title":"Next.js","count":1},{"title":"programming","count":3},{"title":"react","count":2},{"title":"refactoring","count":3},{"title":"typescript","count":2}]}],"data":{"title":"[Next.js] Page Extensions","date":"2022-09-13","tags":["TIL","Next.js","next.config.js","pageExtensions"],"draft":false,"summary":"next.config.js 파일의 page extensions 옵션을 커스텀해보자"},"content":"\r\n\r\n# 서론\r\n\r\n- 작업을 하다보면 임시적으로 접근을 제한하여야 하는 파일들이 있을 수 있다.\r\n- 폴더 최상위에 존재하는 `next.config.js`의 `pageExtensions`을 통해 `page`디렉토리 내 파일들을 대상으로 확장자명에 따라서 파일의 접근을 막을 수 있다.\r\n- `pageExtensions`의 규칙을 따르지 않은 파일에 대해서는 접근시 `404 (Not Found)`에러를 반환한다.\r\n\r\n#### default pageExtensions\r\n```jsx\r\n// next.config.js\r\nmodule.exports = {\r\n  pageExtensions: ['jsx', 'js', 'tsx', 'ts'],\r\n}\r\n```\r\n\r\n\r\n# 사용법\r\n> e.g. `page.` prefix를 붙일 시\r\n```jsx\r\nmodule.exports = {\r\n  pageExtensions: ['page.tsx', 'page.ts', 'page.jsx', 'page.js'],\r\n}\r\n```\r\n- 위와 같이 확장자명을 설정한다면 `pages` 디렉토리 내에 포함하고자 하는 파일의 확장자명에 전부 `page.`을 붙여야한다.\r\n- `_document`, `_app` 그리고 `pages/api`내에 있는 파일에도 동일하게 적용시켜 주어야한다.\r\n\r\n## 현재 디렉토리 구조\r\n```text\r\n└─ pages\r\n    ├─ _app.page.tsx\r\n    ├─ _document.page.tsx\r\n    ├─ home\r\n    │  └─ main.page.tsx\r\n    │  └─ exclude.tsx  // 제외\r\n    └─ main.page.tsx\r\n```\r\n#\r\n### 빌드시\r\n```text\r\nPage\r\n┌ ● /\r\n├   /_app\r\n├ ○ /404\r\n└ ● /home/main\r\n```\r\n#\r\n### `exclude.page.tsx`로 확장자명 변경후 재빌드시\r\n```text\r\nPage\r\n┌ ● /\r\n├   /_app\r\n├ ○ /404\r\n├ ● /home/exclude\r\n└ ● /home/main\r\n```\r\n\r\n\r\n#\r\n\r\n### 참고\r\n- [Custom Page Extensions](https://nextjs.org/docs/api-reference/next.config.js/custom-page-extensions#including-non-page-files-in-the-pages-directory)\r\n\r\n#\r\n\r\n#### 피드백은 언제나 환영입니다."},"__N_SSG":true}