---
title: "부동 소수점"
date: "2022-08-18"
tags: ["TIL", "CS"]
draft: false
summary: "floating point, 부동 소수점"
---
# 부동 소수점
## ? 왜이럼

![얘는 왜 이럴까요](/assets/posts/til/CS/부동-소수점/image_1.png)

## WHY?

- 왜 0.1 + 0.2 = 0.3이 아닐까?
- 컴퓨터에서는 실수를 표현 하는 방식이 있는데 이로 인해 발생하는 오차 때문이다.
- 원인을 알기위해서는 부동 소수점의 개념을 알 필요가 있다.

## 부동 소수점

- 컴퓨터에서는 2진수로만 표기를 해야하기 때문에 정수보다 실수를 표현하는 것은 복잡하다.
- 실수를 표현하는 방식에는 고정 소수점과 부동 소수점이 있다.
- `부동 소수점`은 실수는 가수부(정수부)와 지수부(소수부)로 나누어 표현을 한다.
- `고정 소수점`은 자릿수가 제한되어 있어 표현 가능한 범위가 매우 작다.
- 하지만 부동 소수점은 아래와 같은 수식을 사용해 표현 가능한 범위가 매우 크다.
- 현재는 사용되는 부정 소수점 방식은 [IEEE 754](https://ko.wikipedia.org/wiki/IEEE_754) 표준을 따르고 있다.
- 32비트의 `float`형 실수는 아래와 같이 표현
    - 1비트 = 부호 / 8비트 =  지수부 / 23비트 = 가수부
- 64비트의 `dobule`형 실수는 아래와 같이 표현
    - 1비트 = 부호 / 11비트 = 지수부 / 52비트 = 가수부

## 오차

- 부동 소수점은 고정 소수점보다 많은 실수를 표현할 수 있지만 항상 오차가 존재한다.
- 오차는 위에서 언급한 공식에 의해 발생한다.
- 표현 가능한 범위는 늘어나지만 10진수를 정확하게 표현할 수 없게 된다.
- 언제나 정확한 값이 아닌 `근사치`를 표현할 뿐이다.

![근사치1](/assets/posts/til/CS/부동-소수점/image_2.png)
\
![근사치2](/assets/posts/til/CS/부동-소수점/image_3.png)
\
![같지 않아...](/assets/posts/til/CS/부동-소수점/image_4.png)

- 실수를 2진수로 변환하면 가수부의 길이는 무한대이다. 
- 하지만 실수를 표현할 수 있는 길이는 제한이 되어 있기때문에 뒷부분을 잘라서 표현하게 된다.
- 잘려진 뒤부분 만큼의 오차가 발생하기 때문에 첫번 째 사진과 같이 같은 값이 아닌 것이다.
- 이러한 오차를 줄일 수 있는 것이 double형태의 실수이다.
- float은 1.2E-38 ~ 3.4E38 까지의 범위 표현 가능
- double은 2.2E-308 ~ 1.8E308 까지의 범위 표헌 가능
- 자바스크립트에서의 number 표기
    - Number type = double형태처럼 64비트값이다.
    - 소수점 이하 17자리 정도만 유지, 반올림
    - Number가 가질 수 있는 큰 값은 1.8E308, 이상은 Infinity로 대체

### 참고

[코딩교육 티씨피스쿨](http://tcpschool.com/java/java_datatype_floatingPointNumber)

[위 수식이 틀린 이유를 설명해보십쇼 (개발면접타임)](https://www.youtube.com/watch?v=-GsrYvZoAdA)

[Number - JavaScript | MDN](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Number)


#### 피드백은 언제나 환영입니다.