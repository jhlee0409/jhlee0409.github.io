---
title: "슬라이딩 윈도우 패턴 (Sliding Window Pattern)"
date: "2022-09-26"
tags: ["TIL", "Udemy", "Algorithm", "슬라이딩 윈도우 패턴", 'Sliding Window Pattern']
draft: false
summary: "여러 문제해결 패턴 중 슬라이딩 윈도우 패턴에 대해 알아보자"
---

&nbsp;

# 1. 슬라이딩 윈도우 패턴 (Sliding Window Pattern)

- 위치를 조정할 수 있는 특정 길이의 가상의 `window`을 하나 설정한 후, ` window`의 위치를 좌에서 우 또는 우에서 좌로 이동시키면서 특정 조건을 만족하는 값을 찾아내는 것이다.
- `window`는 단일 변수, 하위 배열, 또는 필요한 경우 다른 문자열도 될 수 있다.
- 배열/문자열 등의 데이터를 입력하거나 특정 방식으로 연속적인 해당 데이터의 하위 집합을 찾는 경우에 유용하다.

&nbsp;

> e.g. 배열과 숫자 하나를 전달 → 연속되는 n개의 숫자의 합계가 가장 큰 값을 구해라

## 일반적인 패턴
- 시간 복잡도 : `O(n^2)`
- `for`문 을 이용한 이중 반복문

```js
const max = (arr, n) => {
    if (n > arr.length) return null;

    // 배열이 만약 모두 음수로 구성되어 있다면 가장 큰합은 여전히 음수일 것이기 떄문이다.
    // 전부 양수이지 않는한 0으로 설정하지 않는다.
    let result = -Infinity;
    for (let i = 0; i < arr.length - n + 1; i++){
        temp = 0;
        for (let j = 0; j < n; j++) {
            temp += arr[i + j];
        }
        if(temp > result) {
            result = temp;
        }
    }
    return result;
}

//            v  v
max([1, 2, 5, 2, 8, 1, 5], 2) // 10
```

## 빈도  카운터 패턴

- 시간 복잡도 : `O(n)`

```js
const max = (arr, n) => {
    let max = 0;
    let temp = 0;
    if(arr.length < n) return null;

    // 맨 처음 0번에서 시작하는 n개의 합을 구해서 max로 설정
    // e.g. 1, 2 의 합인 3을 초기 값으로 세팅
    // [v  v]
    // [1, 2, 5, 2, 8, 1, 5]
    for(let i = 0; i < n; i++) {
        max += arr[i]
    }
    temp = max;
        // 그 다음부터는 맨 처음 설정한 max값을 for문들 돌면서 n개의 값을 더하는 게 아닌 위치를 window의 첫 위치의 값을 빼고 window의 다음 위치에 있는 값을 더한다.
        //  - [v  +]             ->    [v  v]
        // [1, 2, 5, 2, 8, 1, 5] -> [1, 2, 5, 2, 8, 1, 5]
        // 그래서 그 값을 임시로 저장하고 기존 amx값과 비교해서 최대값을 갱신해 나간다.
        // for문의 n값부터 시작한다.
    for(let i = n; i < arr.length; i++) {
        // 2 - 2 = 0번쨰 인덱스의 값을 뺴고 / 2번째 인덱스의 값을 더한다.
        //  0 [1  2]
        // [1, 2, 5, 2, 8, 1, 5]
        temp = temp - arr[i - n] + arr[i];
        max = Math.max(max, temp)
    }
    return max
}

//           [v  v]
max([1, 2, 5, 2, 8, 1, 5], 2) // 10
```

---

#### 피드백은 언제나 환영입니다.